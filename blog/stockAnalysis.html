<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Analyzing Stocks Through Exponential Regression</title>
        <meta name="description" content="Recreating images out of album covers in a user's Spotify playlists."/>
        <link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/favicons/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
        <link rel="manifest" href="/favicons/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/favicons/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        <meta property="og:image" content="/siteThumb.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="1200">
        <link rel="stylesheet" href="../base.css" type="text/css">
        <link rel="stylesheet" href="postStyle.css" type="text/css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.7.1/gist-embed.min.js"></script>
        <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-164774604-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'UA-164774604-1');
        </script>
    </head>

    <body>
        <div id="header">
            <h1>Blake Sanie</h1>
            <h2>Student. Aspiring computer scientist. Photography enthusiast. Baseball fan. Optimist.</h2>
            <div id="menuIcon">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
            <div id="nav">
                <a href="../">
                    <h3>Home</h3>
                </a>
                <h3 class="category">Computer Science</h3>
                <a href="../resume">
                    <h3>Résumé</h3>
                </a>
                <a href="../cs">
                    <h3>Projects</h3>
                </a>
                <a href="/fund" target="_blank">
                    <h3>Stock Fund</h3>
                </a>
                <a href="http://www.investivision.com" target="_blank">
                    <h3>Investivision
                        <sup>↗</sup>
                    </h3>
                </a>
                <a href="../blog">
                    <h3>Blog</h3>
                </a>
                <a href="https://github.com/blakesanie" target="_blank">
                    <h3>GitHub
                        <sup>↗</sup>
                    </h3>
                </a>
                <h3 class="category">Photography</h3>
                <a href="../photo">
                    <h3>Portfolio</h3>
                </a>
                <a href="../photo/gear">
                    <h3>Gear</h3>
                </a>
                <h3 class="category">Personal
                </h3>
                <a id="contactCard" href="/blakesanie.vcf" download="download">
                    <h3>Contact Card</h3>
                </a>
                <a href="mailto:blake@sanie.com">
                    <h3>Email
                        <sup>↗</sup>
                    </h3>
                </a>
                <a href="https://www.linkedin.com/in/blake-sanie-77733116a/" target="_blank">
                    <h3>LinkedIn
                        <sup>↗</sup>
                    </h3>
                </a>
                <a href="https://www.instagram.com/blake_sanie/" target="_blank">
                    <h3>Instagram
                        <sup>↗</sup>
                    </h3>
                </a>
            </div>
            <h4>made by Blake Sanie with ♥</h4>
        </div>
        <div id="content">
            <h1>Analyzing Stocks Through Exponential Regression</h1>
            <p id="date">July 20, 2019</p>
            <p>Stocks and Statistics fall hand in hand. Ideally, a stock's prices increases or decreases at a linear rate, making the price itself experience exponential growth and decay. Of course, this is just fantasy, since no stock follows a perfect
                exponential trend.<br><br>Still,
                there's something to be learned about how closely a stock's growth resembles exponential growth. A high exponential correlation suggests that a stock's price is stable and predictable, or in stock terms, involitile. Also, this creates an estimate of
                the stock's Return on Investment, year over year.
            </p>
            <h2>Prerequisites</h2>
            <ol>
                <li>Python</li>
                <li>NumPy</li>
                <li>MatPlotLib</li>
            </ol>
            <h2>Plan</h2>
            <ol>
                <li>Obtain stock closing prices</li>
                <li>Perform exponential regression</li>
                <li>Output data to plot, JSON, and CSV</li>
                <li>Host data on web</li>
                <li>Query data through website</li>
            </ol>
            <h2>Exponential Regressions</h2>
            <p>So, we've all heard of the linear regression, or "line of best fit." An exponential regression is really just a linear regression with the correlating data transformed beforehand. For instance, instead of correlating x and y, let's correlate x and
                ln(y).</p>
            <p class="equation">ln(y) = a + bx</p>
            <p>Then, if we raise e to both sides, an exponential function emerges.</p>
            <p class="equation">e<sup>ln(y)</sup>
                = e<sup>a + bx</sup>
            </p>
            <p class="equation">y = e<sup>a</sup>(e<sup>b
                </sup>)<sup>x</sup>
            </p>
            <p class="equation">y = A(B)<sup>x</sup>
            </p>
            <p>where A and B are constants derived from the original a and b. A is a scalar, but B represents growth rate (ROI).</p>
            <h2>Obtaining Stock Timeseries Data</h2>
            <p>I've scraped a list of all symbols in the S&P 500, and wish to map each symbol to a Stock instance</p>
            <code data-gist-id="3d3178f2c3b891a34f6e5582a7f521ca" data-gist-line="8,16-17"></code>
            <p>The king of stock data API's is
                <a href="https://www.alphavantage.co" target="_blank">AlphaVantage</a>. We can query the database for a symbol's historical timeseries, saving the closing prices to an instance variable.
            </p>
            <code data-gist-id="3f8afabceacafb19310d972447d8cfeb" data-gist-line="9-10,16-30"></code>
            <code data-gist-id="3d3178f2c3b891a34f6e5582a7f521ca" data-gist-line="19"></code>
            <h2>Performing the Regression</h2>
            <p>Finally, its time for the regression. We can use NumPy data structures to normalize data and easily input it into our model.</p>
            <code data-gist-id="44924ee4fb6ea89ea36c869bfe76d9e6" data-gist-line="1-9"></code>
            <p>We can extract the regression constants from the model, and create an exponential regression as outlined by the explanation above. Note: we must raise the base to 252, as our regression deals with daily closing prices, and we want a yearly growth
                value (there are 252 trading days in a year). Finally, we can return the scalar, ROI, and coefficient of determination to the Stock class.
            </p>
            <code data-gist-id="44924ee4fb6ea89ea36c869bfe76d9e6" data-gist-line="10-17"></code>
            <p>We perform this regression process for all prices, as well as prices in the last 20 years, 10 years, 5 years, 1 year, or 6 months, separately.</p>
            <code data-gist-id="3f8afabceacafb19310d972447d8cfeb" data-gist-line="34-40"></code>
            <code data-gist-id="3d3178f2c3b891a34f6e5582a7f521ca" data-gist-line="26"></code>
            <h2>Outputting the Data</h2>
            <div id="disqus_thread"></div>
        </div>
        <script>
            var disqus_config = function () {
                this.page.url = "http://www.blakesanie.com/blog/stockAnalysis.html";
                this.page.identifier = "stockAnalysis";
            };
            (function () { // DON'T EDIT BELOW THIS LINE
                var d = document,
                    s = d.createElement('script');
                s.src = 'https://blakesanie-com.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the
            <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
        <script src="../main.js"></script>
        <script src="functions.js"></script>
    </body>

</html>